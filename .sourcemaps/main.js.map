{"version":3,"sources":["../../src/providers/http-provider.ts","../../src/providers/conf-provider.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/socket-provider.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/epm-types.ts","../../ws (ignored)","../../src/providers/utils-provider.ts","../../src/app/app.component.ts","../../src/providers/auth-provider.ts","../../src/providers/user-provider.ts"],"names":[],"mappings":"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AAE,yEAAiB,EAAC;aACvD;YACD,SAAS,EAAE,CAAC,gEAAQ,CAAC;SAexB,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;AChGtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http, Headers, Response } from '@angular/http';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Injectable()\r\nexport class HttpProvider {\r\n\r\n    private requestHeader: Headers;\r\n    private sessionAlias;\r\n    private EPM_URL: string;\r\n    private EPM_SOCKET_URL: string;\r\n    /*\r\n       D:  http://192.168.19.112:8080/EPMJ2EE      http://192.168.20.71:3001\r\n       P:  https://epm.first-global.com            https://epm.first-global.com:8886\r\n\r\n       LOCAL : http://192.168.19.112:8090\r\n       DEV   : http://192.168.20.73:8080/fcmobile       C: http://192.168.20.71:3001\r\n\r\n       PROD  : https://epm.first-global.com:8543/fcmobile    C: https://epm.first-global.com:8886\r\n    */\r\n\r\n    constructor(public http: Http, private storage: Storage) {\r\n        this.EPM_URL = \"http://192.168.20.73:8080/fcmobile\";\r\n        this.EPM_SOCKET_URL = \"http://192.168.20.73:3001\";\r\n        this.requestHeader = new Headers();\r\n        this.requestHeader.append('Accept', 'application/json');\r\n        this.requestHeader.append('Content-Type', 'application/json');\r\n    }\r\n\r\n    auth(url: string) {\r\n        return new Promise((resolve, reject) => {\r\n            this.http.get(this.EPM_URL + url, { headers: this.requestHeader, withCredentials: true })\r\n                .map(this.extractData)\r\n                .subscribe(res => {\r\n                    resolve(res);\r\n                }, (err) => {\r\n                    console.error(this.EPM_URL + url, err);\r\n                    reject({ err: err });\r\n                });\r\n        });\r\n\r\n    }\r\n\r\n    logout() {\r\n        return new Promise((resolve, reject) => {\r\n            this.http.get(this.EPM_URL + '/logout').subscribe(res => {\r\n                    resolve(res);\r\n                }, (err) => {\r\n                    console.error(this.EPM_URL + '/logout', err);\r\n                    reject({ err: err });\r\n                });\r\n        });\r\n\r\n    }\r\n\r\n    get(url: string) {\r\n        let http_ = this.http;\r\n        let header_ = this.requestHeader;\r\n        return new Promise((resolve, reject) => {\r\n            http_.get(this.EPM_URL + url, { headers: header_, withCredentials: true }).map(this.extractData).subscribe(\r\n                res => {\r\n                    resolve(res);\r\n                }, (err) => {\r\n                    console.error(url, err);\r\n                    reject({ err: err });\r\n                });\r\n        });\r\n\r\n    }\r\n\r\n    post(url: string, data) {\r\n        let http_ = this.http;\r\n        let header_ = this.requestHeader;\r\n        return new Promise((resolve, reject) => {\r\n            http_.post(this.EPM_URL + url, data, { headers: header_, withCredentials: true }).map(this.extractData).subscribe(\r\n                res => {\r\n                    resolve(res);\r\n                }, (err) => {\r\n                    console.error(url, err);\r\n                    reject({ err: err });\r\n                });\r\n        });\r\n    }\r\n\r\n    private extractData(res: Response) {\r\n        if (res === undefined || res === null) {\r\n            return res;\r\n        }\r\n        return res.text() ? res.json() : {};;\r\n    }\r\n\r\n    epmUrl(): string {\r\n        return this.EPM_URL;\r\n    }\r\n\r\n    socketUrl(): string {\r\n        return this.EPM_SOCKET_URL;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/http-provider.ts","import { Injectable } from '@angular/core';\r\nimport { HttpProvider } from './http-provider'; // import { Http } from '@angular/http';\r\nimport { UtilsProvider } from './utils-provider';\r\nimport { Episode } from './epm-types';\r\n\r\n@Injectable()\r\nexport class ConfProvider {\r\n\r\n    private EPM_DEFAULT_USER_PIC: string;\r\n\r\n    constructor(public util: UtilsProvider, public http: HttpProvider) {\r\n        this.EPM_DEFAULT_USER_PIC = \"assets/img/avatar.png\";\r\n    }\r\n\r\n    public defaultUserPhoto(): string {\r\n        return this.EPM_DEFAULT_USER_PIC;\r\n    }\r\n\r\n    public rest() {\r\n        return this.http.epmUrl();\r\n    }\r\n\r\n    public socket() {\r\n        return this.http.socketUrl();\r\n    }\r\n\r\n    public request(path: string, params: object = {}): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                let postParams = JSON.stringify(params);\r\n                this.http.post(path, postParams).then(res => {\r\n                    console.log(path, res);\r\n                    if (res && !res['isError'] && res['result']) {\r\n                        resolve(res['result']);\r\n                    } else {\r\n                        console.error(path, res);\r\n                        reject({ err: res });\r\n                    }\r\n                }, (err) => {\r\n                    console.error(path, err);\r\n                    reject({ err: err });\r\n                });\r\n            } catch (err) {\r\n                console.error(path, err);\r\n                reject({ err: err });\r\n            }\r\n        });\r\n    }\r\n\r\n    public get(path: string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                this.http.get(path).then(function(res){\r\n                    console.log(path, res);\r\n                    if (res && !res['isError'] && res['result']) {\r\n                        resolve(res['result']);\r\n                    } else {\r\n                        console.error(path, res);\r\n                        reject({ err: res['error'] });\r\n                    }\r\n                }, (err) => {\r\n                    console.error(path, err);\r\n                    reject({ err: err });\r\n                });                    \r\n            } catch (err) {\r\n                console.error(path, err);\r\n                reject({ err: err });\r\n            }\r\n        });\r\n    }\r\n\r\n    // mapper\r\n    public getEpisodes(arr: any): any {\r\n        let items: Array<Episode> = [];\r\n        if (arr !== null) {\r\n            for (let a of arr) {\r\n                var item:Episode = new Episode();\r\n                item.id = a.id;\r\n                item.areaCode = a.areaCode;\r\n                item.areaFk = a.areaFk;\r\n                item.entityFk = a.entityFk;\r\n                item.insuranceFk = a.insuranceFk;\r\n                item.insuranceDesc = a.insuranceDesc;\r\n                item.insuranceNumber = a.insuranceNumber;\r\n                item.patientFk = a.patientFk;\r\n                item.patientName = a.patientName;\r\n                item.patientBirthDate = a.patientBirthDate;\r\n                item.patientAge = this.util.getAge(a.patientBirthDate);\r\n                item.patientSex = a.patientSex;\r\n                item.patientProcessNum = a.patientProcessNum;\r\n                item.patientAddress = a.patientAddress;\r\n                item.patientAddress = a.patientAddress;\r\n                item.patientMail = a.patientMail;\r\n                item.patientPhone = a.patientPhone;\r\n                item.patientPhoto = a.patientPhoto;\r\n                item.teamFk = a.teamFk;\r\n                item.teamName = a.teamName;\r\n                item.teamMembers = a.teamMembers || [];\r\n                item.serviceFk = a.serviceFk;\r\n                item.serviceName = a.serviceName;\r\n                item.scheduleFk = a.scheduleFk;\r\n                item.scheduledStartDate = a.scheduledStartDate;\r\n                item.scheduledStartTime = this.util.dateToStringHour(a.scheduledStartDate);\r\n                item.scheduledEndDate = a.scheduledEndDate;\r\n                item.scheduledEndTime = this.util.dateToStringHour(a.scheduledEndDate);\r\n                item.state = a.state;\r\n                item.status = a.status;\r\n                item.comingTime = a.comingTime;\r\n                item.callTime = a.callTime;\r\n                item.outgoingTime = a.outgoingTime;\r\n                item.startDate = a.startDate;\r\n                item.cancelledDate = a.cancelledDate;\r\n                item.cancelledFk = a.cancelledFk;\r\n                item.startedByCoworkerFk = a.startedByCoworkerFk;\r\n                item.observations = a.observations;\r\n                item.confirmation = a.confirmation;\r\n\r\n                item.color = this.getColor(item.state, a.status, a.startedByCoworkerFk);\r\n\r\n                items.push(item);\r\n            }\r\n        }\r\n        return items;\r\n    }\r\n\r\n    private getColor(state: string, status: string,startedBy: any ): string {\r\n        let stateColor: string = \"\";\r\n        if (state == 'A' || state == 'D') {\r\n            stateColor = 'ANU';\r\n        }\r\n        else if (status == '0' || status == null) {\r\n            stateColor = 'M';\r\n        }\r\n        else if (state == 'M' || state == 'R') {\r\n            // CHEGOU\r\n            if (status == '1') {\r\n                stateColor = 'CHE';\r\n            }\r\n            // CHAMADO\r\n            else if (status == '2') {\r\n                stateColor = startedBy ? 'CON' : 'CHA';\r\n            }\r\n            // SAIU\r\n            else if (status == '3') {\r\n                stateColor = 'SAI';\r\n            }\r\n        }\r\n        // FALTA\r\n        else if (state == 'F') {\r\n            stateColor = 'FAL';\r\n        }\r\n        return stateColor;\r\n    }\r\n    \r\n   \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/conf-provider.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 139;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 139\n// module chunks = 8","var map = {\n\t\"../pages/chat/chat.module\": [\n\t\t469,\n\t\t0\n\t],\n\t\"../pages/chat/messages/messages.module\": [\n\t\t470,\n\t\t5\n\t],\n\t\"../pages/home/home.module\": [\n\t\t471,\n\t\t7\n\t],\n\t\"../pages/login/login.module\": [\n\t\t472,\n\t\t4\n\t],\n\t\"../pages/options/options.module\": [\n\t\t473,\n\t\t6\n\t],\n\t\"../pages/profile/profile.module\": [\n\t\t474,\n\t\t3\n\t],\n\t\"../pages/worklist/episode/episode.module\": [\n\t\t476,\n\t\t2\n\t],\n\t\"../pages/worklist/worklist.module\": [\n\t\t475,\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 189;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 189\n// module chunks = 8","import { Injectable } from '@angular/core';\r\nimport { Storage  } from '@ionic/storage';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { User, ChatUser } from './epm-types';\r\nimport { AuthProvider } from './auth-provider';\r\nimport { UtilsProvider } from './utils-provider';\r\nimport { ConfProvider } from './conf-provider';\r\nimport { UserProvider } from './user-provider';\r\nimport 'rxjs/add/operator/map';\r\nimport * as io from 'socket.io-client';\r\n\r\n@Injectable()\r\nexport class SocketProvider {\r\n    private socket: any; \r\n    private namespace: string = '/entities';\r\n\r\n    /* events */\r\n    public EVENT_MESSAGE :string             = 'epm:chat:message';\r\n    public EVENT_MESSAGE_SENT :string        = 'epm:chat:message:sent';\r\n    public EVENT_MESSAGE_NEW :string         = 'epm:chat:message:new';\r\n    public EVENT_USER_STATUS_CHANGED :string = 'epm:chat:users:update';\r\n    public EVENT_TYPING :string              = 'epm:chat:typing';\r\n\r\n    /* chat vars */\r\n    private session: User;\r\n    private chatMessages = new BehaviorSubject({});\r\n    private chatMessagesData = {};\r\n    private chatUsersArray = [];\r\n    private chatUsers = new BehaviorSubject([]); \r\n    private chatAlerts = new BehaviorSubject({}); \r\n    private notificationsActive:boolean = false;\r\n\r\n    constructor(private storage: Storage, \r\n                public confProvider: ConfProvider, \r\n                public auth: AuthProvider,\r\n                public userProvider: UserProvider,\r\n                public utilsProvider: UtilsProvider) {\r\n                    \r\n        this.initSocket();      \r\n    }\r\n\r\n    private initSocket() : void {\r\n        this.socket = io.connect(this.confProvider.socket() + this.namespace, {'transports': ['websocket', 'polling', 'flashsocket']});\r\n\r\n        this.socket.on(\"connect\", () => {\r\n            console.log(\"socket-connect\");\r\n            /* check user is already logged in */\r\n            if(this.auth.isLogged()){\r\n                this.session = this.auth.getUser();\r\n                if(!this.socketAuthenticated() && this.session) {\r\n                    this.sendAuthSocket(this.session);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.socket.on(\"reconnecting\", (msg) => { console.log('on reconnecting'); });\r\n        this.socket.on(\"reconnect_error\", (msg) => { console.log('on reconnect_error'); });\r\n        this.socket.on(\"reconnect_failed\", (msg) => { console.log('on reconnect_failed'); });\r\n        this.socket.on('disconnect', (e) => { console.log('user disconnected',e); });\r\n\r\n        this.socket.on('epm:chat:authenticated', (ioSession) => {\r\n            if (ioSession && ioSession.user && ioSession.user.userId){\r\n                this.socket._epmData = ioSession.user;\r\n                console.log('You have been authenticated', ioSession.user.userFullname);\r\n                this.initializeChat(ioSession);\r\n            }\r\n        });\r\n\r\n        this.socket.on('epm:chat:presence', (dta) => {\r\n            if (dta && dta.user && this.chatUsersArray){\r\n                console.log('Someone of my entity is authenticated', dta.user.userFullname);\r\n                let found = false;\r\n                for (var i = 0; i < this.chatUsersArray.length; i++) {\r\n                    if (this.chatUsersArray[i].userId == dta.user.userId) {\r\n                        this.chatUsersArray[i].state = dta.state || 'offline';\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(found){\r\n                    this.refreshUsers();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private socketAuthenticated():boolean{\r\n        if ( this.socket._epmData !== undefined && this.socket._epmData !== null ){\r\n            return this.socket._epmData.userId !== undefined && this.socket._epmData.userId !== null;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private sendAuthSocket(epmSession: User): void {\r\n        console.debug('sendAuthSocket');\r\n        this.socket.emit('authenticate', epmSession);\r\n    }\r\n\r\n    private initializeChat(ioSession?:any) : void{\r\n\r\n        // messages\r\n        this.socket.on(this.EVENT_MESSAGE_SENT, (dta) => { this.newChatMessage(dta,true); });\r\n        this.socket.on(this.EVENT_MESSAGE + ':' + this.session.userId, (dta) => { this.newChatMessage(dta,false); });\r\n\r\n        if(ioSession){ \r\n            this.getChatUsers(ioSession.online);\r\n        }\r\n        \r\n        this.storage.get('epmChatMessages').then((val) => {\r\n            if(val !== undefined && val !== null){\r\n                this.chatMessagesData = val || {};\r\n                this.chatMessages.next(this.chatMessagesData); \r\n                this.updateAlerts();\r\n            }\r\n        });\r\n\r\n        this.notificationsActive = true;\r\n        if(this.session && this.session.options){\r\n            // TODO\r\n            this.notificationsActive = true;\r\n        }\r\n    }\r\n\r\n    public disconnect(){\r\n        if(this.socket) {\r\n            //this.socket.removeListener(this.EVENT_MESSAGE + ':' + this.session.userId);\r\n            this.socket.emit('logout');\r\n        }\r\n        this.userProvider.setUser(null);\r\n    }\r\n\r\n\r\n    /* CHAT - USERS */\r\n\r\n    public getUsers(): Observable<any> {\r\n        return this.chatUsers.asObservable();\r\n    }\r\n    private refreshUsers():void{\r\n        var len:number = this.chatUsersArray.length || 0;\r\n        this.chatUsers.next(this.chatUsersArray);    \r\n    }\r\n\r\n    private getChatUsers(onlineUsers: Array<number>) {\r\n        return this.storage.get('epmChatUsers').then((val) => {\r\n            if(val !== undefined && val !== null && val.length !== 0){\r\n                this.chatUsersArray = this.getChatUsersStatus(onlineUsers,val);\r\n                this.refreshUsers();\r\n            }else{\r\n                this.confProvider.get('/mobile/user/get').then(res => {\r\n                    console.log(res);\r\n                    this.chatUsersArray = this.getChatUsersStatus(onlineUsers, res || []);\r\n                    this.refreshUsers(); \r\n                }, err => {\r\n                    console.error(err);\r\n                    this.chatUsers.error(err);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private getChatUsersStatus(onlineUsers: Array<number>, users: Array<ChatUser>) : Array<ChatUser> {\r\n        let usersArr : Array<ChatUser> = [];\r\n        let defaultDate = (new Date(86400000)).getTime();\r\n        let _getPhoto = this.userProvider.getPhoto;\r\n        let _inArray = this.utilsProvider.isInArray;\r\n\r\n        for (var i=0; i < users.length; i++) {\r\n            usersArr.push({\r\n                userId: users[i].userId,\r\n                userName: users[i].userName,\r\n                profName: users[i].profName || null,\r\n                profNum: users[i].profNum || null,\r\n                userBirth: users[i].userBirth || null,\r\n                email: users[i].email || null,\r\n                photo: _getPhoto(users[i].photo),\r\n                state: _inArray(onlineUsers,users[i].userId) ? 'online' : 'offline',\r\n                lastActivity: users[i].lastActivity || defaultDate,\r\n                alerts: users[i].alerts || 0,\r\n                canReceiveCall: users[i].canReceiveCall || null,\r\n            });\r\n        }\r\n        this.storage.set('epmChatUsers',usersArr);\r\n        return usersArr;\r\n    }\r\n\r\n    /** CHAT - MESSAGES */\r\n    public messages(): Observable<any> {\r\n        return this.chatMessages.asObservable();\r\n    }\r\n\r\n    public readMessages(userId:string){\r\n        if(!userId || !this.chatMessagesData){\r\n            return true;\r\n        }\r\n        if(this.chatMessagesData[userId]==undefined || this.chatMessagesData[userId]==null){\r\n            this.chatMessagesData[userId] = [];\r\n        }else{\r\n            for(var i=0; i<this.chatMessagesData[userId].length; i++){\r\n                this.chatMessagesData[userId][i].readed=true;\r\n            }\r\n        }\r\n        //this.storage.set('epmChatMessages',this.chatMessagesData);\r\n        this.refreshAlerts(userId, new Date(), 0);\r\n    }\r\n\r\n    private updateAlerts():void{\r\n        if(this.chatMessagesData){\r\n            let unread = {}, j, u;\r\n            for (u in this.chatMessagesData) {\r\n                unread[u] = 0;\r\n                for(j=this.chatMessagesData[u].length-1; j>=0; j--){\r\n                    if(!this.chatMessagesData[u][j].readed){\r\n                        unread[u]++;\r\n                    }\r\n                    else{\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            this.chatAlerts.next(unread);\r\n        }\r\n    }\r\n\r\n    private notify(user:string, unread: number):void{\r\n        if( this.notificationsActive==true ){\r\n            let title = unread > 1 ? 'Nova mensagem' : unread + ' novas mensagens';\r\n            let m = 'Recebeu uma nova mensagem';\r\n            if(user && user!=null && user!=''){\r\n                m += ' de ' + user + '.';\r\n            }else{\r\n                m += '.';\r\n            }\r\n            console.log(title,m);\r\n            this.utilsProvider.showNotification(title,m);\r\n        }\r\n    }\r\n\r\n    public getAlerts(): Observable<any> {\r\n        return this.chatAlerts.asObservable();\r\n    }\r\n\r\n    private newChatMessage(data:any,isMine:boolean){\r\n        if (data && data.sender && data.messages) {\r\n            let senderId  = data.sender.userId + '';\r\n            let senderName  = data.sender.userFullName + '';\r\n            let receiptId = data.receipt + '';\r\n\r\n            let userIdx = isMine ? receiptId : senderId;\r\n            console.log('epmChatService: new message',data, isMine);\r\n\r\n            // user messages\r\n            if(this.chatMessagesData[userIdx]==undefined || this.chatMessagesData[userIdx]==null){\r\n                this.chatMessagesData[userIdx] = [];\r\n            }\r\n\r\n            // check last message time and user\r\n            if (this.chatMessagesData[userIdx].length > 0) {\r\n\r\n                var lastIndex       = this.chatMessagesData[userIdx].length - 1;\r\n                var lastTimeStamp   = this.chatMessagesData[userIdx][lastIndex].timestamp;\r\n                var lastUser        = this.chatMessagesData[userIdx][lastIndex].sender.userId;\r\n\r\n                if ( this.utilsProvider.isSameTime(lastTimeStamp,data.timestamp) && lastUser == senderId){\r\n                    this.chatMessagesData[userIdx][lastIndex].timestamp = data.timestamp;\r\n                    this.chatMessagesData[userIdx][lastIndex].messages  = this.chatMessagesData[userIdx][lastIndex].messages.concat(data.messages);\r\n                    this.chatMessagesData[userIdx][lastIndex].readed = isMine;\r\n                }else{\r\n                    data.readed = isMine;\r\n                    this.chatMessagesData[userIdx].push(data);\r\n                }\r\n\r\n            }else{\r\n                data.readed = isMine;\r\n                this.chatMessagesData[userIdx].push(data);\r\n            }\r\n\r\n            if(!isMine){\r\n                this.refreshActivity(userIdx,data.timestamp);\r\n            }else{\r\n                this.refreshAlerts(userIdx,data.timestamp,-1);\r\n            }\r\n\r\n            //this.storage.set('epmChatMessages',this.chatMessagesData);\r\n            this.chatMessages.next(this.chatMessagesData);\r\n        }\r\n    }\r\n\r\n    private refreshActivity(uId,timestamp) {\r\n        let unread = 0;\r\n        for(let i=0; i<this.chatMessagesData[uId].length; i++){\r\n            if(this.chatMessagesData[uId][i].readed==false){ unread++; }\r\n        }\r\n        this.refreshAlerts(uId,timestamp,unread);\r\n    }\r\n\r\n    private refreshAlerts(uId,timestamp,unread) {\r\n        let totalAlerts = 0;\r\n        for (var i=0; i<this.chatUsersArray.length; i++){\r\n            if(this.chatUsersArray[i].userId == uId){\r\n                if(unread >= 0){\r\n                    this.chatUsersArray[i].alerts = unread;\r\n                    if(unread > 0){\r\n                        this.notify(this.chatUsersArray[i],unread);\r\n                    }\r\n                }\r\n                if(unread!==0){\r\n                    this.chatUsersArray[i].lastActivity = (new Date(timestamp)).getTime();\r\n                }\r\n                //break;\r\n            }\r\n            totalAlerts += (this.chatUsersArray[i].alerts || 0);\r\n        }\r\n        this.chatAlerts.next(totalAlerts);\r\n        //localStorageService.set('epmChat',chat);\r\n    }\r\n\r\n    public sendMessage(to:any, message:string):void{\r\n        this.socket.emit(this.EVENT_MESSAGE, {to: to, message: message});\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/socket-provider.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\nimport { enableProdMode}  from '@angular/core';\n\nenableProdMode();\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { HttpModule, Http } from '@angular/http';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { BrowserTab } from '@ionic-native/browser-tab';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\n\r\nimport { TranslateLoader, TranslateModule, TranslatePipe } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\n\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\n\r\nimport { HttpProvider } from '../providers/http-provider';\r\nimport { UtilsProvider } from '../providers/utils-provider';\r\nimport { UserProvider } from '../providers/user-provider';\r\nimport { ConfProvider } from '../providers/conf-provider';\r\nimport { AuthProvider } from '../providers/auth-provider';\r\nimport { SocketProvider } from '../providers/socket-provider';\r\n\r\nimport { MyApp } from './app.component';\r\n\r\n\r\nexport function createTranslateLoader(http: Http) {\r\n    return new TranslateHttpLoader(http, \"./assets/i18n/\", \".json\");\r\n}\r\n\r\n@NgModule({\r\n    declarations: [\r\n        MyApp\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        HttpModule,\r\n        TranslateModule.forRoot({\r\n            loader: {\r\n                provide: TranslateLoader,\r\n                useFactory: (createTranslateLoader),\r\n                deps: [Http]\r\n            }\r\n        }),\r\n        IonicModule.forRoot(MyApp, {\r\n            preloadModules: true\r\n        }),\r\n        IonicStorageModule.forRoot()\r\n    ],\r\n    exports: [\r\n        MyApp\r\n    ],\r\n    entryComponents: [\r\n        MyApp\r\n    ],\r\n    providers: [\r\n        //BackgroundMode,\r\n        BrowserTab,\r\n        StatusBar,\r\n        SplashScreen,\r\n        LocalNotifications,\r\n        UtilsProvider,\r\n        HttpProvider,\r\n        ConfProvider,\r\n        UserProvider,\r\n        AuthProvider,\r\n        SocketProvider,\r\n        {provide: ErrorHandler, useClass: IonicErrorHandler}\r\n    ],\r\n    bootstrap: [IonicApp],\r\n    \r\n   /* providers: [\r\n        //BackgroundMode,\r\n        BrowserTab,\r\n        StatusBar,\r\n        SplashScreen,\r\n        LocalNotifications,\r\n        UtilsProvider,\r\n        HttpProvider,\r\n        ConfProvider,\r\n        UserProvider,\r\n        AuthProvider,\r\n        SocketProvider,\r\n        {provide: ErrorHandler, useClass: IonicErrorHandler}]*/\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"./af\": 190,\n\t\"./af.js\": 190,\n\t\"./ar\": 191,\n\t\"./ar-dz\": 192,\n\t\"./ar-dz.js\": 192,\n\t\"./ar-kw\": 193,\n\t\"./ar-kw.js\": 193,\n\t\"./ar-ly\": 194,\n\t\"./ar-ly.js\": 194,\n\t\"./ar-ma\": 195,\n\t\"./ar-ma.js\": 195,\n\t\"./ar-sa\": 196,\n\t\"./ar-sa.js\": 196,\n\t\"./ar-tn\": 197,\n\t\"./ar-tn.js\": 197,\n\t\"./ar.js\": 191,\n\t\"./az\": 198,\n\t\"./az.js\": 198,\n\t\"./be\": 199,\n\t\"./be.js\": 199,\n\t\"./bg\": 200,\n\t\"./bg.js\": 200,\n\t\"./bm\": 201,\n\t\"./bm.js\": 201,\n\t\"./bn\": 202,\n\t\"./bn.js\": 202,\n\t\"./bo\": 203,\n\t\"./bo.js\": 203,\n\t\"./br\": 204,\n\t\"./br.js\": 204,\n\t\"./bs\": 205,\n\t\"./bs.js\": 205,\n\t\"./ca\": 206,\n\t\"./ca.js\": 206,\n\t\"./cs\": 207,\n\t\"./cs.js\": 207,\n\t\"./cv\": 208,\n\t\"./cv.js\": 208,\n\t\"./cy\": 209,\n\t\"./cy.js\": 209,\n\t\"./da\": 210,\n\t\"./da.js\": 210,\n\t\"./de\": 211,\n\t\"./de-at\": 212,\n\t\"./de-at.js\": 212,\n\t\"./de-ch\": 213,\n\t\"./de-ch.js\": 213,\n\t\"./de.js\": 211,\n\t\"./dv\": 214,\n\t\"./dv.js\": 214,\n\t\"./el\": 215,\n\t\"./el.js\": 215,\n\t\"./en-au\": 216,\n\t\"./en-au.js\": 216,\n\t\"./en-ca\": 217,\n\t\"./en-ca.js\": 217,\n\t\"./en-gb\": 218,\n\t\"./en-gb.js\": 218,\n\t\"./en-ie\": 219,\n\t\"./en-ie.js\": 219,\n\t\"./en-nz\": 220,\n\t\"./en-nz.js\": 220,\n\t\"./eo\": 221,\n\t\"./eo.js\": 221,\n\t\"./es\": 222,\n\t\"./es-do\": 223,\n\t\"./es-do.js\": 223,\n\t\"./es-us\": 224,\n\t\"./es-us.js\": 224,\n\t\"./es.js\": 222,\n\t\"./et\": 225,\n\t\"./et.js\": 225,\n\t\"./eu\": 226,\n\t\"./eu.js\": 226,\n\t\"./fa\": 227,\n\t\"./fa.js\": 227,\n\t\"./fi\": 228,\n\t\"./fi.js\": 228,\n\t\"./fo\": 229,\n\t\"./fo.js\": 229,\n\t\"./fr\": 230,\n\t\"./fr-ca\": 231,\n\t\"./fr-ca.js\": 231,\n\t\"./fr-ch\": 232,\n\t\"./fr-ch.js\": 232,\n\t\"./fr.js\": 230,\n\t\"./fy\": 233,\n\t\"./fy.js\": 233,\n\t\"./gd\": 234,\n\t\"./gd.js\": 234,\n\t\"./gl\": 235,\n\t\"./gl.js\": 235,\n\t\"./gom-latn\": 236,\n\t\"./gom-latn.js\": 236,\n\t\"./gu\": 237,\n\t\"./gu.js\": 237,\n\t\"./he\": 238,\n\t\"./he.js\": 238,\n\t\"./hi\": 239,\n\t\"./hi.js\": 239,\n\t\"./hr\": 240,\n\t\"./hr.js\": 240,\n\t\"./hu\": 241,\n\t\"./hu.js\": 241,\n\t\"./hy-am\": 242,\n\t\"./hy-am.js\": 242,\n\t\"./id\": 243,\n\t\"./id.js\": 243,\n\t\"./is\": 244,\n\t\"./is.js\": 244,\n\t\"./it\": 245,\n\t\"./it.js\": 245,\n\t\"./ja\": 246,\n\t\"./ja.js\": 246,\n\t\"./jv\": 247,\n\t\"./jv.js\": 247,\n\t\"./ka\": 248,\n\t\"./ka.js\": 248,\n\t\"./kk\": 249,\n\t\"./kk.js\": 249,\n\t\"./km\": 250,\n\t\"./km.js\": 250,\n\t\"./kn\": 251,\n\t\"./kn.js\": 251,\n\t\"./ko\": 252,\n\t\"./ko.js\": 252,\n\t\"./ky\": 253,\n\t\"./ky.js\": 253,\n\t\"./lb\": 254,\n\t\"./lb.js\": 254,\n\t\"./lo\": 255,\n\t\"./lo.js\": 255,\n\t\"./lt\": 256,\n\t\"./lt.js\": 256,\n\t\"./lv\": 257,\n\t\"./lv.js\": 257,\n\t\"./me\": 258,\n\t\"./me.js\": 258,\n\t\"./mi\": 259,\n\t\"./mi.js\": 259,\n\t\"./mk\": 260,\n\t\"./mk.js\": 260,\n\t\"./ml\": 261,\n\t\"./ml.js\": 261,\n\t\"./mr\": 262,\n\t\"./mr.js\": 262,\n\t\"./ms\": 263,\n\t\"./ms-my\": 264,\n\t\"./ms-my.js\": 264,\n\t\"./ms.js\": 263,\n\t\"./my\": 265,\n\t\"./my.js\": 265,\n\t\"./nb\": 266,\n\t\"./nb.js\": 266,\n\t\"./ne\": 267,\n\t\"./ne.js\": 267,\n\t\"./nl\": 268,\n\t\"./nl-be\": 269,\n\t\"./nl-be.js\": 269,\n\t\"./nl.js\": 268,\n\t\"./nn\": 270,\n\t\"./nn.js\": 270,\n\t\"./pa-in\": 271,\n\t\"./pa-in.js\": 271,\n\t\"./pl\": 272,\n\t\"./pl.js\": 272,\n\t\"./pt\": 128,\n\t\"./pt-br\": 100,\n\t\"./pt-br.js\": 100,\n\t\"./pt.js\": 128,\n\t\"./ro\": 273,\n\t\"./ro.js\": 273,\n\t\"./ru\": 274,\n\t\"./ru.js\": 274,\n\t\"./sd\": 275,\n\t\"./sd.js\": 275,\n\t\"./se\": 276,\n\t\"./se.js\": 276,\n\t\"./si\": 277,\n\t\"./si.js\": 277,\n\t\"./sk\": 278,\n\t\"./sk.js\": 278,\n\t\"./sl\": 279,\n\t\"./sl.js\": 279,\n\t\"./sq\": 280,\n\t\"./sq.js\": 280,\n\t\"./sr\": 281,\n\t\"./sr-cyrl\": 282,\n\t\"./sr-cyrl.js\": 282,\n\t\"./sr.js\": 281,\n\t\"./ss\": 283,\n\t\"./ss.js\": 283,\n\t\"./sv\": 284,\n\t\"./sv.js\": 284,\n\t\"./sw\": 285,\n\t\"./sw.js\": 285,\n\t\"./ta\": 286,\n\t\"./ta.js\": 286,\n\t\"./te\": 287,\n\t\"./te.js\": 287,\n\t\"./tet\": 288,\n\t\"./tet.js\": 288,\n\t\"./th\": 289,\n\t\"./th.js\": 289,\n\t\"./tl-ph\": 290,\n\t\"./tl-ph.js\": 290,\n\t\"./tlh\": 291,\n\t\"./tlh.js\": 291,\n\t\"./tr\": 292,\n\t\"./tr.js\": 292,\n\t\"./tzl\": 293,\n\t\"./tzl.js\": 293,\n\t\"./tzm\": 294,\n\t\"./tzm-latn\": 295,\n\t\"./tzm-latn.js\": 295,\n\t\"./tzm.js\": 294,\n\t\"./uk\": 296,\n\t\"./uk.js\": 296,\n\t\"./ur\": 297,\n\t\"./ur.js\": 297,\n\t\"./uz\": 298,\n\t\"./uz-latn\": 299,\n\t\"./uz-latn.js\": 299,\n\t\"./uz.js\": 298,\n\t\"./vi\": 300,\n\t\"./vi.js\": 300,\n\t\"./x-pseudo\": 301,\n\t\"./x-pseudo.js\": 301,\n\t\"./yo\": 302,\n\t\"./yo.js\": 302,\n\t\"./zh-cn\": 303,\n\t\"./zh-cn.js\": 303,\n\t\"./zh-hk\": 304,\n\t\"./zh-hk.js\": 304,\n\t\"./zh-tw\": 305,\n\t\"./zh-tw.js\": 305\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 423;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 423\n// module chunks = 8","'use strict';\r\n\r\nexport class UserOption {\r\n    id: string;\r\n    userid: number;\r\n    code: string;\r\n    value: string;\r\n\r\n    constructor(code:string, val:string, uid: number) {\r\n        this.code = code;\r\n        this.value = val;\r\n        this.userid = uid;\r\n        this.id = this.userid + '_' + this.code;\r\n    }\r\n}\r\n\r\nexport class User {\r\n    entityId: number;\r\n    entityFdfId: number;\r\n    entityCode: string;\r\n    entityName: string;\r\n    coworkerId: number;\r\n    userId: number;\r\n    username: string;\r\n    userFullname: string;\r\n    userEmail: string;\r\n    languageCode: string;\r\n    photo: string;\r\n    permissions: Array<UserOption>;\r\n    options: Array<UserOption>;\r\n\r\n    constructor(entityId: number, entityFdfId: number, entityCode: string, entityName: string, \r\n        coworkerId: number, userId: number, username: string, userFullname: string, userEmail: string, \r\n        languageCode: string, photo: string, permissions: Array<UserOption>, options: Array<UserOption>) {\r\n            \r\n            this.entityId = entityId;\r\n            this.entityFdfId = entityFdfId;\r\n            this.entityCode = entityCode;\r\n            this.entityName = entityName;\r\n            this.coworkerId = coworkerId;\r\n            this.userId = userId;\r\n            this.username = username;\r\n            this.userFullname = userFullname;\r\n            this.userEmail = userEmail;\r\n            this.languageCode = languageCode;\r\n            this.photo = photo;\r\n            this.permissions = new Array<UserOption>();\r\n            this.options = options;\r\n        }\r\n}\r\n\r\n// Epm GenericEpisodeType.java\r\nexport class Episode {\r\n    id: number;\r\n    areaFk:string;\r\n    areaCode:string;\r\n    entityFk:number;\r\n    insuranceFk:number;\r\n    insuranceDesc:string;\r\n    insuranceNumber:string;\r\n    patientFk:string;\r\n    patientName:string;\r\n    patientBirthDate:string;\r\n    patientAge:object;\r\n    patientSex:string;\r\n    patientProcessNum:string;\r\n    patientAddress:string;\r\n    patientMail:string;\r\n    patientPhone:string;\r\n    patientPhoto:any;\r\n    teamFk:number;\r\n    teamName:string;\r\n    teamMembers:Array<number>;\r\n    serviceFk:number;\r\n    serviceName:string;\r\n    scheduleFk:number;\r\n    scheduledStartDate:string;\r\n    scheduledStartTime:string;\r\n    scheduledEndDate:string;\r\n    scheduledEndTime:string;\r\n    state:string;\r\n    status:string;\r\n    color: string;\r\n    comingTime:string;\r\n    callTime:string;\r\n    outgoingTime:string;\r\n    startDate:string;\r\n    cancelledDate:string;\r\n    cancelledFk:number;\r\n    startedByCoworkerFk:number;\r\n    observations:string;\r\n    confirmation:string;\r\n\r\n    constructor(){}\r\n}\r\n\r\nexport class ChatUser {\r\n    userId: number;\r\n    userName: string;\r\n    profName: string;\r\n    profNum: string;\r\n    userBirth: string;\r\n    email: string;\r\n    photo: string;\r\n    state: string = 'offline';  \r\n    lastActivity: number;\r\n    alerts: number = 0;\r\n    canReceiveCall: null;\r\n}\r\n\r\nexport class ChatMessage {\r\n    sender: any;\r\n    receipt: string;\r\n    timestamp: string;\r\n    messages: Array<string> = [];\r\n    readed: boolean = false;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/epm-types.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 448\n// module chunks = 8","import { Storage } from '@ionic/storage';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications';\r\nimport { Injectable } from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport moment from 'moment';\r\nimport 'moment-timezone';\r\nimport 'moment/locale/pt-br';\r\n\r\n@Injectable()\r\nexport class UtilsProvider {\r\n\r\n    constructor(private storage: Storage, private localNotifications: LocalNotifications) {\r\n        this.localNotifications.on('click', (notification, state) => {\r\n            let json = JSON.parse(notification.data);\r\n            console.log(notification.title, json);\r\n        });\r\n    }\r\n\r\n    // local storage\r\n    getData(key:string) {\r\n        return this.storage.get(key);\r\n    }\r\n    setData(key:string, data) {\r\n        let newData = JSON.stringify(data);\r\n        return this.storage.set(key, newData);\r\n    }\r\n    clearData():void{\r\n        this.storage.clear();\r\n        window.localStorage.clear();\r\n    }\r\n\r\n    // dates\r\n    dateToStringDate(date?: string): string {\r\n        return this.dateToString(date,\"DD-MM-YYYY\");\r\n    }\r\n\r\n    dateToStringHour(date?: string): string {\r\n        return this.dateToString(date,\"HH:mm\");\r\n    }\r\n\r\n    dateToString(date: string, format: string): string {\r\n        if (!date) { return ''; }\r\n        return moment(date).format(format);\r\n    }\r\n\r\n    currentDate(): string {\r\n        return moment().toISOString();\r\n    }\r\n\r\n    isSameTime(date1, date2): boolean {\r\n        return moment(date1).format('YYYYMMDD_HHmm') === moment(date2).format('YYYYMMDD_HHmm');\r\n    }\r\n\r\n    getAge(date): object{\r\n        var age = {value: null, unitLocale: ''};\r\n        if(date){\r\n            var years = moment().diff(date, 'years');\r\n            if ( years >= 1 ){\r\n                age.value = years;\r\n                age.unitLocale = years===1 ? 'AGE_YEAR' : 'AGE_YEARS';\r\n            }else {\r\n                age.value = moment().diff(date, 'years');\r\n                age.unitLocale = age.value===1 ? 'AGE_MONTH' : 'AGE_MONTHS';\r\n            }\r\n        }\r\n        return age;\r\n    }\r\n\r\n\r\n\r\n    // AUX\r\n\r\n    isInArray(arr, id): boolean {\r\n        if (arr == null || arr.length == 0) {\r\n            return true;\r\n        }\r\n        var str_ = id + '';\r\n        var num_ = parseInt(id);\r\n        return arr.includes(str_) || arr.includes(num_);\r\n    }\r\n\r\n    uppercase(text: string): string {\r\n        return _.upperCase(text);\r\n    }\r\n\r\n    startCase(text: string): string {\r\n        return _.startCase(text);\r\n    }\r\n\r\n    getTabChangeEvent() {\r\n        return null; //this.tabChangeEvent;\r\n    }\r\n\r\n    public showToast(message, duration?) {\r\n        /*let toast = this.toastCtrl.create({\r\n            message: message,\r\n            duration: duration || 3000\r\n        });\r\n        toast.present();*/\r\n    }\r\n\r\n    public showNotification(title: string, message: string) {\r\n        /*let notification = {\r\n            id: day.dayCode,\r\n            title: title,\r\n            text: message,\r\n            at: firstNotificationTime,\r\n            every: 'week'\r\n        };\r\n\r\n        this.notifications.push(notification);*/\r\n        console.log('localNotifications.schedule:' + new Date(new Date().getTime() + 800), title, message);\r\n        let notification = {\r\n            id: 999,\r\n            title: title,\r\n            text: message,\r\n            at: new Date(new Date().getTime() + 500),\r\n            data: {}\r\n        };\r\n        this.localNotifications.schedule([notification]);\r\n    }\r\n\r\n    public cancelNotifications() {\r\n        this.localNotifications.cancelAll();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils-provider.ts","import { Component } from '@angular/core';\r\nimport { Config, Platform } from 'ionic-angular';\r\n\r\nimport { BrowserTab } from '@ionic-native/browser-tab';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AuthProvider } from '../providers/auth-provider';\r\n\r\n@Component({\r\n    templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n    rootPage: any = null;\r\n\r\n    constructor(public platform: Platform,\r\n        public statusBar: StatusBar,\r\n        public splashScreen: SplashScreen,\r\n        public translate: TranslateService,\r\n        public authProvider: AuthProvider,\r\n        public config: Config) {\r\n\r\n        this.initTranslate();\r\n        this.initializeApp();\r\n        this.checkAuth();\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        this.platform.ready().then(() => {\r\n            //if (this.platform.is('cordova')) {\r\n                this.initPlugins();\r\n            //}\r\n        });\r\n    }\r\n\r\n    initPlugins() {\r\n        //this.statusBar.styleDefault();\r\n        this.statusBar.styleLightContent();\r\n        this.statusBar.backgroundColorByHexString('#194378');\r\n        this.splashScreen.hide();\r\n    }\r\n\r\n    initializeApp() {\r\n        this.watchForNetworkChanges();\r\n    }\r\n\r\n    initTranslate() {\r\n        // Set the default language for translation strings, and the current language.\r\n        this.translate.setDefaultLang('pt');\r\n\r\n        if (this.translate.getBrowserLang() !== undefined) {\r\n            this.translate.use(this.translate.getBrowserLang());\r\n        } else {\r\n            this.translate.use('pt'); // Set your language here\r\n        }\r\n\r\n        this.translate.get(['BACK_BUTTON_TEXT']).subscribe(values => {\r\n            this.config.set('ios', 'backButtonText', values.BACK_BUTTON_TEXT);\r\n        });\r\n    }\r\n\r\n    checkAuth(): void {\r\n        this.authProvider.hasPreviousAuthorization().then((isAuthenticated) => {\r\n            if (!isAuthenticated) {\r\n                this.rootPage = 'LoginPage';\r\n            } else {\r\n                this.rootPage = 'HomePage';\r\n            }\r\n        })\r\n    }\r\n\r\n    watchForNetworkChanges() {\r\n        // watch network for a disconnect\r\n        document.addEventListener(\"offline\", this.onOffline, false);\r\n        // watch network for a connection\r\n        document.addEventListener(\"online\", this.onOnline, false);\r\n    }\r\n\r\n    onOffline() {\r\n        console.log('network was disconnected :-(');\r\n    }\r\n\r\n    onOnline() {\r\n        console.log('network connected!');\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { SocketProvider } from './socket-provider';\r\nimport { UserProvider } from './user-provider';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Md5 } from 'ts-md5/dist/md5';\r\nimport { HttpProvider } from './http-provider';\r\nimport { UtilsProvider } from './utils-provider';\r\nimport { User } from './epm-types';\r\n\r\n@Injectable()\r\nexport class AuthProvider {\r\n\r\n    constructor(private http: HttpProvider,\r\n        private userProvider: UserProvider,\r\n        private utilsProvider: UtilsProvider) {\r\n\r\n    }\r\n\r\n    public getUser(): User {\r\n        return this.userProvider.getUser();\r\n    }\r\n\r\n    private setCredentials(credentials: any): void {\r\n        this.utilsProvider.setData('epmUserCredentials', credentials).then(\r\n            (val) => { console.log('User credentials stored!') },\r\n            (error) => { console.log('Error storing item', error) });\r\n    }\r\n\r\n    public login(credentials, cached: boolean = false): any {\r\n        if (credentials.username === null || credentials.password === null || credentials.institution === null) {\r\n            return { isError: true, error: \"Crednciais invlidas\" };\r\n        } else {\r\n            let cred:any = JSON.parse(JSON.stringify(credentials))\r\n            if (!cached) {\r\n                cred.password = Md5.hashStr(cred.password);\r\n            }\r\n            return this.authenticate(cred.username, cred.password, cred.institution).then(\r\n                (data) => {\r\n                    console.log(\"authenticate\", data);\r\n                    if (data) {\r\n                        this.userProvider.setUser(data);\r\n                        this.setCredentials(cred);\r\n                        return { isError: false, error: null };\r\n                    } else {\r\n                        let error = \"Acesso negado. Verifique os seus dados de acesso.\";\r\n                        return { isError: true, error: error };\r\n                    }\r\n                },\r\n                (err) => {\r\n                    return { isError: true, error: err };\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    private authenticate(username: string, password: string, institution: string) {\r\n        let accountPath = '/security/account?options';\r\n        let authUrl = \"/login/auth\";\r\n        console.log(\"auth:\", username, password, institution);\r\n        authUrl += '?username=' + username;\r\n        authUrl += '&password=' + password;\r\n        authUrl += '&institutionCode=' + institution;\r\n\r\n        return new Promise((resolve, reject) => {\r\n            this.http.auth(authUrl).then(\r\n                success => {\r\n                    this.http.auth(accountPath).then(\r\n                        data => { resolve(data); },\r\n                        err => {\r\n                            if (err.status === 401) {\r\n                                console.error('Invalid user credentials');\r\n                                reject('Crednciais invlidas.');\r\n                            } else if (err.status !== 200) {\r\n                                console.error('HTTP Error', err);\r\n                                reject('Falha no pedido.');\r\n                            }\r\n                        }\r\n                    );\r\n                },\r\n                error => {\r\n                    if (error.status === 401) {\r\n                        console.error('Invalid user credentials');\r\n                        reject('Crednciais invlidas.');\r\n                    } else if (error.status !== 200) {\r\n                        console.error('HTTP Error', error);\r\n                        reject('Falha no pedido.');\r\n                    }\r\n                }\r\n\r\n            );\r\n        });\r\n\r\n    }\r\n\r\n    public hasPreviousAuthorization() {\r\n        return new Promise(resolve => {\r\n            this.utilsProvider.getData('epmUserCredentials').then((val) => {\r\n                if (val !== undefined && val !== null) {\r\n                    this.login(JSON.parse(val), true).then((data) => {\r\n                        console.log(\"hasPreviousAuthorization : login\", data);\r\n                        if (data.isError) {\r\n                            console.error(data.error);\r\n                            resolve(false);\r\n                        } else {\r\n                            resolve(this.isLogged());\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public isLogged(): boolean {\r\n        let u = this.userProvider.getUser();\r\n        if(u === undefined || u === null) {\r\n            return false;\r\n        }\r\n        return u.userId !== undefined && u.userId !== null;\r\n    }\r\n\r\n\r\n    public logout() {\r\n        return new Promise((resolve, reject) => {\r\n            this.http.logout().then((data) => {\r\n                this.utilsProvider.clearData();\r\n                this.utilsProvider.cancelNotifications();\r\n                resolve(true);\r\n            },(err) => {\r\n                console.log(err);\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    public isFIRST(): boolean {\r\n        return this.userProvider.getUser().entityCode.toLocaleLowerCase() == 'first';\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-provider.ts","import { Injectable } from '@angular/core';\r\nimport { User } from './epm-types';\r\n\r\n@Injectable()\r\nexport class UserProvider {\r\n    private currentUser: User;\r\n\r\n    public getUser() : User {\r\n        return this.currentUser;\r\n    }\r\n\r\n    public setUser(session : any) : void {\r\n        let user = null;\r\n        if(session!=null){\r\n            user = <User>({\r\n                entityId: session.entityId,\r\n                entityFdfId: session.entityFdfId,\r\n                entityCode: session.entityCode,\r\n                entityName: session.entityName,\r\n                coworkerId: session.coworkerId,\r\n                userId: session.userId,\r\n                username: session.username,\r\n                userFullname: session.userFullname,\r\n                userEmail: session.userEmail,\r\n                languageCode: session.languageCode,\r\n                photo: this.getPhoto(session.photo),\r\n                permissions: session.permissions,\r\n                options: session.options,\r\n            });\r\n        }\r\n        console.log('setUser', user);\r\n        this.currentUser = user;\r\n    }\r\n\r\n    public setOption(options: any):void {\r\n        this.currentUser.options = options || [];\r\n    }\r\n\r\n    public getPhoto(img: any):string {\r\n        if(!img || img==''){\r\n            return null;\r\n        }\r\n        if(img.indexOf('data:image/jpeg;base64') > -1){\r\n            return img;\r\n        }\r\n        return 'data:image/jpeg;base64,' + img;\r\n    }\r\n\r\n    public isLogged() : boolean {\r\n        return this.currentUser!==null;\r\n    }\r\n\r\n    public isFIRST():boolean {\r\n        return this.currentUser.entityCode.toLocaleLowerCase() == 'first';\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user-provider.ts"],"sourceRoot":""}