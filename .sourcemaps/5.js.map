{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/safe.pipe.ts","../../src/pipes/moment.pipe.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { PipesModule } from '../../pipes/pipes.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n    declarations: [LoginPage],\n    imports: [IonicPageModule.forChild(LoginPage), TranslateModule, PipesModule],\n    exports: [LoginPage]\n})\nexport class LoginPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { SafePipe } from './safe.pipe';\nimport { MomentPipe } from './moment.pipe';\nimport { NgModule } from '@angular/core';\n\n@NgModule({\n    declarations: [MomentPipe, SafePipe],\n    imports: [],\n    exports: [MomentPipe, SafePipe]\n})\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\n\n@Pipe({\n\tname: 'safe'\n})\nexport class SafePipe {\n\n\tconstructor(protected _sanitizer: DomSanitizer) {\n\n\t}\n\n\tpublic transform(value: string, type: string = 'html'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n\t\tswitch (type) {\n\t\t\tcase 'html': return this._sanitizer.bypassSecurityTrustHtml(value);\n\t\t\tcase 'style': return this._sanitizer.bypassSecurityTrustStyle(value);\n\t\t\tcase 'script': return this._sanitizer.bypassSecurityTrustScript(value);\n\t\t\tcase 'url': return this._sanitizer.bypassSecurityTrustUrl(value);\n\t\t\tcase 'resourceUrl': return this._sanitizer.bypassSecurityTrustResourceUrl(value);\n\t\t\t//default: throw new Error(`Invalid safe type specified: ${type}`);\n\t\t\tdefault: return this._sanitizer.bypassSecurityTrustUrl(value);\n\t\t}\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe.pipe.ts","import { Pipe } from '@angular/core';\nimport * as moment from 'moment';\nimport 'moment/locale/pt';\n\n// under systemjs, moment is actually exported as the default export, so we account for that\n//-const momentConstructor: (value?: any) => moment.Moment = (<any>moment).default || moment;\n\n@Pipe({\n    name: 'moment'\n})\nexport class MomentPipe {\n\n    transform(value, args) {\n        args = args || '';\n        return args === 'ago' ? moment(value).fromNow() : moment(value).format(args);\n      }\n\n    /*transform(value: Date | moment.Moment, args?: any): any {\n        let formats: any = null;\n        let referenceTime: any = null;\n\n        if (typeof args === 'object' && !moment.isMoment(args)) {\n            formats = args;\n         } else {\n            referenceTime = momentConstructor(args);\n        }\n\n        return momentConstructor(value).calendar(referenceTime, formats);\n    }*/\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/moment.pipe.ts","import { Component, ViewChild } from '@angular/core';\nimport { BrowserTab } from '@ionic-native/browser-tab';\nimport { IonicPage, Content, NavController, AlertController, LoadingController, Loading } from 'ionic-angular';\nimport { AuthProvider } from '../../providers/auth-provider';\n\n@IonicPage()\n@Component({\n    selector: 'page-login',\n    templateUrl: 'login.html'\n})\nexport class LoginPage {\n    @ViewChild(Content) content: Content;\n    loading: Loading;\n    credentials = { username: '', password: '', institution: '' };\n\n    constructor(private nav: NavController,\n        private auth: AuthProvider,\n        private alertCtrl: AlertController,\n        private loadingCtrl: LoadingController,\n        private browserTab: BrowserTab) { }\n\n\n    ionViewDidLoad() {\n        if(this.auth.isLogged()){\n           this.nav.setRoot('HomePage');\n        }\n    }\n\n    login() {\n        this.showLoading();\n        this.auth.login(this.credentials).then((data) => {\n            //console.log(\"on login\",data);\n            if (data.isError) {\n                this.showError(data.error);\n            } else {\n                setTimeout(() => {\n                    this.loading.dismiss();\n                    this.nav.setRoot('HomePage');\n                });\n            }\n        });\n    }\n\n    showLoading() {\n        this.loading = this.loadingCtrl.create({\n            content: 'Aguarde...'\n        });\n        this.loading.present();\n    }\n\n    showError(text) {\n        setTimeout(() => {\n            this.loading.dismiss();\n        });\n\n        let alert = this.alertCtrl.create({\n            title: 'Erro',\n            subTitle: text,\n            buttons: ['OK']\n        });\n        alert.present();\n    }\n\n    onFocus() {\n        this.scrollToForm();\n    }\n\n    scrollToForm() {\n        setTimeout(() => {\n            if (this.content.scrollTo) { \n                this.content.scrollTo(0, 86, 600)\n            }\n        }, 100);\n    }\n\n    poweredBy() {\n        let url = 'http://www.first-global.com/pt-pt/Solucoes/epm';\n        this.browserTab.isAvailable()\n            .then((isAvailable: boolean) => {\n                if (isAvailable) {\n                    this.browserTab.openUrl(url);\n                }\n            })\n            .catch(err => console.error(err));\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}