{"version":3,"sources":["../../src/pages/worklist/episode/episode.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/safe.pipe.ts","../../src/pipes/moment.pipe.ts","../../src/pages/worklist/episode/episode.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { PipesModule } from '../../../pipes/pipes.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EpisodePage } from './episode';\n\n@NgModule({\n    declarations: [EpisodePage],\n    imports: [IonicPageModule.forChild(EpisodePage), TranslateModule, PipesModule],\n    exports: [EpisodePage]\n})\nexport class EpisodePageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/worklist/episode/episode.module.ts","import { SafePipe } from './safe.pipe';\nimport { MomentPipe } from './moment.pipe';\nimport { NgModule } from '@angular/core';\n\n@NgModule({\n    declarations: [MomentPipe, SafePipe],\n    imports: [],\n    exports: [MomentPipe, SafePipe]\n})\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\n\n@Pipe({\n\tname: 'safe'\n})\nexport class SafePipe {\n\n\tconstructor(protected _sanitizer: DomSanitizer) {\n\n\t}\n\n\tpublic transform(value: string, type: string = 'html'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n\t\tswitch (type) {\n\t\t\tcase 'html': return this._sanitizer.bypassSecurityTrustHtml(value);\n\t\t\tcase 'style': return this._sanitizer.bypassSecurityTrustStyle(value);\n\t\t\tcase 'script': return this._sanitizer.bypassSecurityTrustScript(value);\n\t\t\tcase 'url': return this._sanitizer.bypassSecurityTrustUrl(value);\n\t\t\tcase 'resourceUrl': return this._sanitizer.bypassSecurityTrustResourceUrl(value);\n\t\t\t//default: throw new Error(`Invalid safe type specified: ${type}`);\n\t\t\tdefault: return this._sanitizer.bypassSecurityTrustUrl(value);\n\t\t}\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe.pipe.ts","import { Pipe } from '@angular/core';\nimport * as moment from 'moment';\nimport 'moment/locale/pt';\n\n// under systemjs, moment is actually exported as the default export, so we account for that\n//-const momentConstructor: (value?: any) => moment.Moment = (<any>moment).default || moment;\n\n@Pipe({\n    name: 'moment'\n})\nexport class MomentPipe {\n\n    transform(value, args) {\n        args = args || '';\n        return args === 'ago' ? moment(value).fromNow() : moment(value).format(args);\n      }\n\n    /*transform(value: Date | moment.Moment, args?: any): any {\n        let formats: any = null;\n        let referenceTime: any = null;\n\n        if (typeof args === 'object' && !moment.isMoment(args)) {\n            formats = args;\n         } else {\n            referenceTime = momentConstructor(args);\n        }\n\n        return momentConstructor(value).calendar(referenceTime, formats);\n    }*/\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/moment.pipe.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Episode } from '../../../providers/epm-types';\nimport { ConfProvider } from '../../../providers/conf-provider';\n\n@IonicPage()\n@Component({\n    selector: 'page-episode',\n    templateUrl: 'episode.html'\n})\nexport class EpisodePage {\n    public episode : Episode;\n    private defaultPic: string;\n    private segment: string;\n    private history: Array<Episode>;\n    \n    private pageNumber: number = 0;\n    private pageSize: number = 30;\n    private loading: boolean;\n    \n    private birthString: string;\n\n    constructor(private navCtrl: NavController, public params: NavParams, private conf:ConfProvider) {\n        this.loading = false;\n        this.segment = 'episode';\n        this.episode = this.params.get('episode');\n        this.birthString = \"\";\n\n        if(this.episode){\n            let str = this.episode.patientBirthdate;\n            if(this.episode.patientAge){\n                let ageValue = this.episode.patientAge['value'] + \"\";\n                let ageUnit = this.episode.patientAge['unitLocale'] || 'anos';\n                str += ' (' + ageValue + ' ' + ageUnit + ')';\n            }\n            this.birthString = str;\n        }\n\n        this.defaultPic = this.conf.defaultUserPhoto();\n        this.getPatientHistory(this.episode.patientFk);\n    }\n\n    getPatientHistory(patientId:string){\n        this.loading = true;\n        let url = '/mobile/appointment/episodes?u=' + patientId + \"&ps=\" + this.pageSize + \"&pn=\" + this.pageNumber;\n        this.conf.get(url).then(result => {\n            this.history = this.conf.getEpisodes(result || []);\n            this.loading = false;\n        }, err => {\n            console.error(err);\n            this.history = [];\n            this.loading = false;\n        });\n    }\n\n    goBack() {\n        this.navCtrl.pop();\n    } \n        \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/worklist/episode/episode.ts"],"sourceRoot":""}