{"version":3,"sources":["../../src/pages/worklist/episode/episode.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/safe.pipe.ts","../../src/pipes/moment.pipe.ts","../../src/pages/worklist/episode/episode.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { PipesModule } from '../../../pipes/pipes.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { EpisodePage } from './episode';\r\n\r\n@NgModule({\r\n    declarations: [EpisodePage],\r\n    imports: [IonicPageModule.forChild(EpisodePage), TranslateModule, PipesModule],\r\n    exports: [EpisodePage]\r\n})\r\nexport class EpisodePageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/worklist/episode/episode.module.ts","import { SafePipe } from './safe.pipe';\r\nimport { MomentPipe } from './moment.pipe';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n    declarations: [MomentPipe, SafePipe],\r\n    imports: [],\r\n    exports: [MomentPipe, SafePipe]\r\n})\r\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n\tname: 'safe'\r\n})\r\nexport class SafePipe {\r\n\r\n\tconstructor(protected _sanitizer: DomSanitizer) {\r\n\r\n\t}\r\n\r\n\tpublic transform(value: string, type: string = 'html'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'html': return this._sanitizer.bypassSecurityTrustHtml(value);\r\n\t\t\tcase 'style': return this._sanitizer.bypassSecurityTrustStyle(value);\r\n\t\t\tcase 'script': return this._sanitizer.bypassSecurityTrustScript(value);\r\n\t\t\tcase 'url': return this._sanitizer.bypassSecurityTrustUrl(value);\r\n\t\t\tcase 'resourceUrl': return this._sanitizer.bypassSecurityTrustResourceUrl(value);\r\n\t\t\t//default: throw new Error(`Invalid safe type specified: ${type}`);\r\n\t\t\tdefault: return this._sanitizer.bypassSecurityTrustUrl(value);\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe.pipe.ts","import { Pipe } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport 'moment/locale/pt';\r\n\r\n// under systemjs, moment is actually exported as the default export, so we account for that\r\n//-const momentConstructor: (value?: any) => moment.Moment = (<any>moment).default || moment;\r\n\r\n@Pipe({\r\n    name: 'moment'\r\n})\r\nexport class MomentPipe {\r\n\r\n    transform(value, args) {\r\n        args = args || '';\r\n        return args === 'ago' ? moment(value).fromNow() : moment(value).format(args);\r\n      }\r\n\r\n    /*transform(value: Date | moment.Moment, args?: any): any {\r\n        let formats: any = null;\r\n        let referenceTime: any = null;\r\n\r\n        if (typeof args === 'object' && !moment.isMoment(args)) {\r\n            formats = args;\r\n         } else {\r\n            referenceTime = momentConstructor(args);\r\n        }\r\n\r\n        return momentConstructor(value).calendar(referenceTime, formats);\r\n    }*/\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/moment.pipe.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Episode } from '../../../providers/epm-types';\r\nimport { ConfProvider } from '../../../providers/conf-provider';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-episode',\r\n    templateUrl: 'episode.html'\r\n})\r\nexport class EpisodePage {\r\n    public episode : Episode;\r\n    private defaultPic: string;\r\n    private segment: string;\r\n    private history: Array<Episode>;\r\n    private start: number = 1;\r\n    private loading: boolean;\r\n\r\n    constructor(private navCtrl: NavController, public params: NavParams, private conf:ConfProvider) {\r\n        this.loading = false;\r\n        this.segment = 'episode';\r\n        this.episode = this.params.get('episode');\r\n        this.defaultPic = this.conf.defaultUserPhoto();\r\n        this.getPatientHistory(this.episode.patientFk);\r\n    }\r\n\r\n    getPatientHistory(patientId:string){\r\n        this.loading = true;\r\n        let url = '/mobile/appointment/episodes?u=' + patientId + \"&p=\" + this.start;\r\n        this.conf.request(url).then(data => {\r\n            console.log(data);\r\n            this.history = this.conf.getEpisodes(data.result || []);\r\n            this.loading = false;\r\n        }, err => {\r\n            console.error(err);\r\n            this.history = [];\r\n            this.loading = false;\r\n        });\r\n    }\r\n\r\n    goBack() {\r\n        this.navCtrl.pop();\r\n    } \r\n        \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/worklist/episode/episode.ts"],"sourceRoot":""}