{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/safe.pipe.ts","../../src/pipes/moment.pipe.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { PipesModule } from '../../pipes/pipes.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\n\r\n@NgModule({\r\n    declarations: [LoginPage],\r\n    imports: [IonicPageModule.forChild(LoginPage), TranslateModule, PipesModule],\r\n    exports: [LoginPage]\r\n})\r\nexport class LoginPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { SafePipe } from './safe.pipe';\r\nimport { MomentPipe } from './moment.pipe';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n    declarations: [MomentPipe, SafePipe],\r\n    imports: [],\r\n    exports: [MomentPipe, SafePipe]\r\n})\r\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n\tname: 'safe'\r\n})\r\nexport class SafePipe {\r\n\r\n\tconstructor(protected _sanitizer: DomSanitizer) {\r\n\r\n\t}\r\n\r\n\tpublic transform(value: string, type: string = 'html'): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'html': return this._sanitizer.bypassSecurityTrustHtml(value);\r\n\t\t\tcase 'style': return this._sanitizer.bypassSecurityTrustStyle(value);\r\n\t\t\tcase 'script': return this._sanitizer.bypassSecurityTrustScript(value);\r\n\t\t\tcase 'url': return this._sanitizer.bypassSecurityTrustUrl(value);\r\n\t\t\tcase 'resourceUrl': return this._sanitizer.bypassSecurityTrustResourceUrl(value);\r\n\t\t\t//default: throw new Error(`Invalid safe type specified: ${type}`);\r\n\t\t\tdefault: return this._sanitizer.bypassSecurityTrustUrl(value);\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe.pipe.ts","import { Pipe } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport 'moment/locale/pt';\r\n\r\n// under systemjs, moment is actually exported as the default export, so we account for that\r\n//-const momentConstructor: (value?: any) => moment.Moment = (<any>moment).default || moment;\r\n\r\n@Pipe({\r\n    name: 'moment'\r\n})\r\nexport class MomentPipe {\r\n\r\n    transform(value, args) {\r\n        args = args || '';\r\n        return args === 'ago' ? moment(value).fromNow() : moment(value).format(args);\r\n      }\r\n\r\n    /*transform(value: Date | moment.Moment, args?: any): any {\r\n        let formats: any = null;\r\n        let referenceTime: any = null;\r\n\r\n        if (typeof args === 'object' && !moment.isMoment(args)) {\r\n            formats = args;\r\n         } else {\r\n            referenceTime = momentConstructor(args);\r\n        }\r\n\r\n        return momentConstructor(value).calendar(referenceTime, formats);\r\n    }*/\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/moment.pipe.ts","import { Component } from '@angular/core';\r\nimport { BrowserTab } from '@ionic-native/browser-tab';\r\nimport { IonicPage, NavController, AlertController, LoadingController, Loading } from 'ionic-angular';\r\nimport { AuthProvider } from '../../providers/auth-provider';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-login',\r\n    templateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n\r\n    loading: Loading;\r\n    credentials = { username: '', password: '', institution: '' };\r\n\r\n    constructor(private nav: NavController,\r\n        private auth: AuthProvider,\r\n        private alertCtrl: AlertController,\r\n        private loadingCtrl: LoadingController,\r\n        private browserTab: BrowserTab) { }\r\n\r\n\r\n    ionViewDidLoad() {\r\n        if(this.auth.isLogged()){\r\n           this.nav.setRoot('HomePage');\r\n        }\r\n    }\r\n\r\n    login() {\r\n        this.showLoading();\r\n        this.auth.login(this.credentials).then((data) => {\r\n            console.log(\"on login\",data);\r\n            if (data.isError) {\r\n                this.showError(data.error);\r\n            } else {\r\n                setTimeout(() => {\r\n                    this.loading.dismiss();\r\n                    this.nav.setRoot('HomePage');\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    showLoading() {\r\n        this.loading = this.loadingCtrl.create({\r\n            content: 'Aguarde...'\r\n        });\r\n        this.loading.present();\r\n    }\r\n\r\n    showError(text) {\r\n        setTimeout(() => {\r\n            this.loading.dismiss();\r\n        });\r\n\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Erro',\r\n            subTitle: text,\r\n            buttons: ['OK']\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    poweredBy() {\r\n        let url = 'http://www.first-global.com/pt-pt/Solucoes/epm';\r\n        this.browserTab.isAvailable()\r\n            .then((isAvailable: boolean) => {\r\n                if (isAvailable) {\r\n                    this.browserTab.openUrl(url);\r\n                }\r\n            })\r\n            .catch(err => console.error(err));\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}